# vsim -coverage -l 33_counter_after_interrupt.log -c test_bench -voptargs="+cover=bcesft" -assertdebug -do "coverage save -onexit 33_counter_after_interrupt.ucdb; log -r /*;run -all" 
# Start time: 19:56:42 on Dec 01,2025
# ** Note: (vsim-3813) Design is being optimized due to module recompilation...
# //  Questa Intel Starter FPGA Edition-64
# //  Version 2024.3 linux_x86_64 Sep 10 2024
# //
# // Unpublished work. Copyright 2024 Siemens
# //
# // This material contains trade secrets or otherwise confidential information
# // owned by Siemens Industry Software Inc. or its affiliates (collectively,
# // "SISW"), or its licensors. Access to and use of this information is strictly
# // limited as set forth in the Customer's applicable agreements with SISW.
# //
# // This material may not be copied, distributed, or otherwise disclosed outside
# // of the Customer's facilities without the express written permission of SISW,
# // and may not be used in any way not expressly authorized by SISW.
# //
# Loading work.test_bench(fast)
# coverage save -onexit 33_counter_after_interrupt.ucdb
#  log -r /*
# run -all
# =====================================================================================
# [                         Pat name: COUNTER AFTER INTERRUPT                          ]
# =====================================================================================
# ==========[           COUNTER COMPARE VALUE & TURN ON INT_EN               ]=========
# =====================================================================================
# [ t =        100 ] WRITE data=32'h0000000a to addr=12'h00c with strb=4'b1111 
# [ t =        171 ] WRITE data=32'h00000000 to addr=12'h010 with strb=4'b1111 
# [ t =        251 ] WRITE data=32'h00000001 to addr=12'h014 with strb=4'b0001 
# [ t =        411 ] READ at addr = 12'h00c , the rdata actual = 32'h0000000a 
# [ t =        491 ] READ at addr = 12'h010 , the rdata actual = 32'h00000000 
#  DONE Write: cmp_64b = 64'h000000000000000a 
# =======================================================================================
# ==========[      RUN COUNTER WITH VALUE = 0 -> F  &  CHECK AFTER INTERRUPT   ]=========
# =======================================================================================
# -------------------------------------------------------------------------------------
# ----------------   1: STOP TIMER (timer_en=0)      ----------------------------------
# [ t =        491 ] WRITE data=32'h00000000 to addr=12'h000 with strb=4'b1111 
# ---------     2: WRITE RELOAD (split from cnt[63:0] -> TDR0/TDR1    -----------------
# [ t =        630 ] WRITE data=32'h00000000 to addr=12'h004 with strb=4'b1111 
# [ t =        711 ] WRITE data=32'h00000000 to addr=12'h008 with strb=4'b1111 
# [ t =        791 ] SETUP COUNTER INIT = 64'h0000000000000000 
# ---------       3: WRITE DIV_VAL + DIV_EN WHILE TIMER OFF     -----------------
# [ t =        791 ] WRITE data=32'h00000100 to addr=12'h000 with strb=4'b1111 
# [ t =        951 ] READ at addr = 12'h000 , the rdata actual = 32'h00000100 
# [ t =        951 ] expect that rdata at addr=12'h000 is 32'h00000100 
# [ t =        951 ]    >>>  PASS <<<     |   rdata actual =32'h00000100   =  rdata expect =32'h00000100 
# -------------------------------------------------------------------------------------
# [ t =        951 ] SETUP DIV_VAL = 4'b0001 & DIV_EN = 1'b0 
# ----------------  4: START TIMER (timer_en=1)      ----------------------------------
# [ t =        951 ] WRITE data=32'h00000101 to addr=12'h000 with strb=4'b1111 
# ----------------     5: AFTER          15 CYCLE      ----------------------------------
# [t=      1050] CNT_EN = 1 -> CNT64 = 1 (0x0000000000000001)
# [t=      1070] CNT_EN = 1 -> CNT64 = 2 (0x0000000000000002)
# [t=      1090] CNT_EN = 1 -> CNT64 = 3 (0x0000000000000003)
# [t=      1110] CNT_EN = 1 -> CNT64 = 4 (0x0000000000000004)
# [t=      1130] CNT_EN = 1 -> CNT64 = 5 (0x0000000000000005)
# [t=      1150] CNT_EN = 1 -> CNT64 = 6 (0x0000000000000006)
# [t=      1170] CNT_EN = 1 -> CNT64 = 7 (0x0000000000000007)
# [t=      1190] CNT_EN = 1 -> CNT64 = 8 (0x0000000000000008)
# [t=      1210] CNT_EN = 1 -> CNT64 = 9 (0x0000000000000009)
# [t=      1230] CNT_EN = 1 -> CNT64 = 10 (0x000000000000000a)
# [t=      1250] CNT_EN = 1 -> CNT64 = 11 (0x000000000000000b)
# [t=      1270] CNT_EN = 1 -> CNT64 = 12 (0x000000000000000c)
# [t=      1290] CNT_EN = 1 -> CNT64 = 13 (0x000000000000000d)
# [t=      1310] CNT_EN = 1 -> CNT64 = 14 (0x000000000000000e)
# [t=      1330] CNT_EN = 1 -> CNT64 = 15 (0x000000000000000f)
# [ t =       1330 ] COUNTER VAL NOW = 64'h000000000000000f 
# -------------------------------------------------------------------------------------
#  tim.int is ASSERT 
# EXPECTED CNT64 = 15 (0x000000000000000f)
# ACTUAL   CNT64 = 15 (0x000000000000000f)
#    >>> PASS <<<
# -----------------------------------------
# ===================================================
# ==========[ CHECK COUNTER INTERRUPT HANG ]=========
# ===================================================
#  >>> PASS <<<< | COUNTER STILL RUNNING AFTER INTTERUPT ASSERT
# =====================================================================================
# =========[                        TEST : PASS ALL                       ]============
# =====================================================================================
# Test_result PASSED
# -------------------------------------------------------------------------------------
# [ t =       1430 ] TEST COMPLETE. Total Errors: 0
# -------------------------------------------------------------------------------------
# ** Note: $finish    : ../tb/test_bench.v(94)
#    Time: 1430 ns  Iteration: 0  Instance: /test_bench
# Saving coverage database on exit...
# End time: 19:56:43 on Dec 01,2025, Elapsed time: 0:00:01
# Errors: 0, Warnings: 0
